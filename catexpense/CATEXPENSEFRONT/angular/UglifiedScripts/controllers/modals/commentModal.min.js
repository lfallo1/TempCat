"use strict";angular.module("expenseApp.Controllers").controller("CommentController",["$scope","$modalInstance","$modal","$rootScope","Application","CommentService","MessageService",function(a,b,c,d,e,f,g){a.comment=e.getComment().ExpenseComment,a.isNewComment=e.getIsNewComment(),a.cancel=function(){b.dismiss("dismiss comment modal"),e.setComment("")},a.save=function(){d.$broadcast("saveComment",a.comment),b.dismiss()};var h=e.getCommentIndex();a.deleteComment=function(){g.setMessage("Are you sure you want to delete this comment?"),g.setBroadCastMessage("confirmDeleteComment");c.open({templateUrl:"Views/HotTowel/views/modals/confirmModal.html",controller:"confirmModalController"})},a.$on("confirmDeleteComment",function(){f.DeleteComment(e.getSubmission().Comments[h].CommentId).then(function(){var a=e.getSubmission();a.Comments.splice(h,1),e.setSubmission(a),b.dismiss("dismiss confirm modal")})})}]);