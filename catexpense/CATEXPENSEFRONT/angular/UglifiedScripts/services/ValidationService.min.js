"use strict";angular.module("expenseApp.Services").service("ValidationService",[function(){function a(a){var b=a.LineItemMetadata.split(","),c=b[0].split(":");return parseInt(c[1])}function b(a){var b=a.LineItemMetadata.split(","),c=b[1].split(":");return c[1]}function c(a){var b=a.LineItemMetadata.split(","),c=b[2].split(":");return c[1]}function d(a){var b=a.LineItemMetadata.split(","),c=b[3].split(":"),d={};return d.sunday="true"===c[1],c=b[4].split(":"),d.monday="true"===c[1],c=b[5].split(":"),d.tuesday="true"===c[1],c=b[6].split(":"),d.wednesday="true"===c[1],c=b[7].split(":"),d.thursday="true"===c[1],c=b[8].split(":"),d.friday="true"===c[1],c=b[9].split(":"),d.saturday="true"===c[1],d}var e=this,f={};e.validateMileage=function(d){var e={origin:b(d),destination:c(d),miles:a(d)};f={validInput:!1,date:{valid:!0,message:"This field is valid."},origin:{valid:!0,message:"This field is valid."},destination:{valid:!0,message:"This field is valid."},miles:{valid:!0,message:"This field is valid."},description:{valid:!0,message:"This field is valid."},amount:{valid:!0,message:"This field is valid."}},f.date.valid=d.LineItemDate instanceof Date&&!isNaN(d.LineItemDate.valueOf()),f.date.valid||(f.date.message=""===d.LineItemDate?"Please provide a date.":"Invalid date."),f.origin.valid=e.origin.length>0,f.origin.valid||(f.origin.message="Please input an origin."),f.destination.valid=e.destination.length>0,f.destination.valid||(f.destination.message="Please input a destination.");var g=/^(\d*.?\d+)$/;return f.miles.valid=g.test(e.miles)&&e.miles>0,f.miles.valid||(f.miles.message="Please input a valid distance."),f.description.valid=d.LineItemDesc.length>0,f.description.valid||(f.description.message="Please input a description."),f.amount.valid=g.test(d.LineItemAmount)&&d.LineItemAmount>=0,f.amount.valid||(f.amount.message="Please input a valid amount."),f.validInput=f.date.valid&&f.origin.valid&&f.destination.valid&&f.miles.valid&&f.description.valid&&f.amount.valid,f},e.validatePerDiem=function(a){var b={days:d(a)};return f={validInput:!0,days:{valid:!0,message:"This field is valid."}},f.days.valid=b.days.sunday||b.days.monday||b.days.tuesday||b.days.wednesday||b.days.thursday||b.days.friday||b.days.saturday,f.days.valid||(f.days.message="Please select at least one day."),f.validInput=f.days.valid,f},e.validateOther=function(a){f={validInput:!0,date:{valid:!0,message:"This field is valid."},description:{valid:!0,message:"This field is valid."},amount:{valid:!0,message:"This field is valid."}},f.date.valid=a.LineItemDate instanceof Date&&!isNaN(a.LineItemDate.valueOf()),f.date.valid||(f.date.message=""===a.LineItemDate?"Please provide a date.":"Invalid date."),f.description.valid=a.LineItemDesc.length>0,f.description.valid||(f.description.message="Please input a description.");var b=/^(\d*.?\d+)$/;return f.amount.valid=b.test(a.LineItemAmount)&&a.LineItemAmount>=0,f.amount.valid||(f.amount.message="Please input a valid amount."),f.validInput=f.date.valid&&f.description.valid&&f.amount.valid,f}}]);