"use strict";angular.module("expenseApp.Services").factory("Authentication",["$q","$http","$timeout","Application",function(a,b,c,d){var e,f,g,h=null;return{requestUser:function(){var d=a.defer();return b.get("/api/user.json").success(function(a){c(function(){a&&(h=a),d.resolve(h)},1e3)}).error(function(a){d.reject(a)}),d.promise},getUser:function(){return h},exists:function(){return null!=h},login:function(a){a&&(h=a.userName,e=a.userName,f=a.isManager,g=a.isFinanceApprover,d.makeReady())},logout:function(){h=void 0,e=void 0,f=void 0,g=void 0},isDeveloper:function(){return this.exists()&&"developer"==h.type},setUserName:function(a){e=a,h=a},getUserName:function(){return e},getIsManager:function(){return f},getIsFinanceApprover:function(){return g}}}]);